<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>欢迎来到Amos个人世界</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="规划一切">
<meta property="og:type" content="website">
<meta property="og:title" content="欢迎来到Amos个人世界">
<meta property="og:url" content="https://lisheng9009.github.io/index.html">
<meta property="og:site_name" content="欢迎来到Amos个人世界">
<meta property="og:description" content="规划一切">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Amos Li">
<meta property="article:tag" content="暂无">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="欢迎来到Amos个人世界" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">欢迎来到Amos个人世界</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Amos</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://lisheng9009.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-02员工管理" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/17/02%E5%91%98%E5%B7%A5%E7%AE%A1%E7%90%86/" class="article-date">
  <time class="dt-published" datetime="2025-06-17T08:39:02.000Z" itemprop="datePublished">2025-06-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/17/02%E5%91%98%E5%B7%A5%E7%AE%A1%E7%90%86/">02员工管理</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-新增员工"><a href="#1-新增员工" class="headerlink" title="1. 新增员工"></a>1. 新增员工</h1><h2 id="1-1-需求分析和设计"><a href="#1-1-需求分析和设计" class="headerlink" title="1.1 需求分析和设计"></a>1.1 需求分析和设计</h2><p>一般在做需求分析时，往往都是对照着产品原型进行分析，因为产品原型比较直观，便于我们理解业务。</p>
<p>后台系统中可以管理员工信息，通过新增员工来添加后台系统用户。</p>
<h3 id="1-1-1-产品原型"><a href="#1-1-1-产品原型" class="headerlink" title="1.1.1 产品原型"></a>1.1.1 产品原型</h3><p><strong>新增员工原型：</strong></p>
<img src="./../images/image-20250617200739606.png" alt="新增员工" style="zoom:50%;" />

<p>当填写完表单信息, 点击”保存”按钮后, 会提交该<strong>表单的数据到服务端, 在服务端中需要接受数据, 然后将数据保存至数据库</strong>中。</p>
<p><strong>注意事项：</strong></p>
<ol>
<li><p>账号必须是唯一的</p>
</li>
<li><p>手机号为合法的11位手机号码</p>
</li>
<li><p>身份证号为合法的18位身份证号码</p>
</li>
<li><p>密码默认为123456</p>
</li>
</ol>
<h3 id="1-1-2-接口设计"><a href="#1-1-2-接口设计" class="headerlink" title="1.1.2  接口设计"></a>1.1.2  接口设计</h3><p>找到资料–&gt;项目接口文档–&gt;苍穹外卖-管理端接口.html</p>
<p>明确新增员工接口的<strong>请求路径、请求方式、请求参数、返回数据</strong>。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Path</td>
<td align="left"><code>/admin/employee</code></td>
<td align="left">新增员工的接口路径</td>
</tr>
<tr>
<td align="left">Method</td>
<td align="left">POST</td>
<td align="left">使用HTTP POST方法提交数据</td>
</tr>
<tr>
<td align="left">接口描述</td>
<td align="left">新增员工</td>
<td align="left">用于创建新的员工账号</td>
</tr>
<tr>
<td align="left">Content-Type</td>
<td align="left">application&#x2F;json</td>
<td align="left">请求体必须是JSON格式</td>
</tr>
</tbody></table>
<img src="./../images/image-20250617201708643.png" alt="请求路径，请求方式" style="zoom:67%;" />

<img src="./../images/image-20250617201827835.png" alt="请求参数" style="zoom: 67%;" />

<img src="./../images/image-20250617201849675.png" alt="返回数据" style="zoom: 67%;" />



<p>本项目约定：</p>
<ul>
<li><strong>管理端</strong>发出的请求，统一使用**&#x2F;admin**作为前缀。</li>
<li><strong>用户端</strong>发出的请求，统一使用**&#x2F;user**作为前缀。</li>
</ul>
<h3 id="1-1-3-表设计"><a href="#1-1-3-表设计" class="headerlink" title="1.1.3 表设计"></a>1.1.3 表设计</h3><p>新增员工，其实就是将我们新增页面录入的员工数据插入到employee表。</p>
<p><strong>employee表结构：</strong></p>
<table>
<thead>
<tr>
<th><strong>字段名</strong></th>
<th><strong>数据类型</strong></th>
<th><strong>说明</strong></th>
<th><strong>备注</strong></th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>bigint</td>
<td>主键</td>
<td>自增</td>
</tr>
<tr>
<td>name</td>
<td>varchar(32)</td>
<td>姓名</td>
<td></td>
</tr>
<tr>
<td>username</td>
<td>varchar(32)</td>
<td>用户名</td>
<td>唯一</td>
</tr>
<tr>
<td>password</td>
<td>varchar(64)</td>
<td>密码</td>
<td></td>
</tr>
<tr>
<td>phone</td>
<td>varchar(11)</td>
<td>手机号</td>
<td></td>
</tr>
<tr>
<td>sex</td>
<td>varchar(2)</td>
<td>性别</td>
<td></td>
</tr>
<tr>
<td>id_number</td>
<td>varchar(18)</td>
<td>身份证号</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>Int</td>
<td>账号状态</td>
<td>1正常 0锁定</td>
</tr>
<tr>
<td>create_time</td>
<td>Datetime</td>
<td>创建时间</td>
<td></td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td>最后修改时间</td>
<td></td>
</tr>
<tr>
<td>create_user</td>
<td>bigint</td>
<td>创建人id</td>
<td></td>
</tr>
<tr>
<td>update_user</td>
<td>bigint</td>
<td>最后修改人id</td>
<td></td>
</tr>
</tbody></table>
<p>其中，employee表中的status字段已经设置了默认值1，表示状态正常。</p>
<h2 id="1-2-代码开发"><a href="#1-2-代码开发" class="headerlink" title="1.2 代码开发"></a>1.2 代码开发</h2><h3 id="1-2-1-设计DTO类"><a href="#1-2-1-设计DTO类" class="headerlink" title="1.2.1 设计DTO类"></a>1.2.1 设计DTO类</h3><p>前端传递参数列表：</p>
<p><img src="/./../images/image-20221111164002448.png" alt="前端参数"> </p>
<p>**思考：**是否可以使用对应的实体类来接收呢？</p>
<p><img src="/./../images/image-20221111164453341.png" alt="实体类封装"> </p>
<p>**注意：**当前端提交的数据和实体类中对应的属性差别比较大时，建议使用DTO来封装数据</p>
<p>进入sky-pojo模块，在com.sky.dto包下，已定义EmployeeDTO</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> @Data 注解</span></span><br><span class="line"><span class="comment">来源：Lombok 库</span></span><br><span class="line"><span class="comment">作用：自动生成以下方法：</span></span><br><span class="line"><span class="comment">    所有字段的 getter 方法</span></span><br><span class="line"><span class="comment">    所有非 final 字段的 setter 方法</span></span><br><span class="line"><span class="comment">    equals() 和 hashCode() 方法</span></span><br><span class="line"><span class="comment">    toString() 方法</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeDTO</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Serializable 是 Java 中的标记接口（Marker Interface），它没有定义任何方法，仅用于向 Java 虚拟机（JVM）表明：</span></span><br><span class="line"><span class="comment">    &quot;这个类的对象可以被序列化（Serialize）和反序列化（Deserialize）&quot;</span></span><br><span class="line"><span class="comment">    核心概念</span></span><br><span class="line"><span class="comment">    术语	定义	类比</span></span><br><span class="line"><span class="comment">    序列化	将对象转换为字节流	把书装进快递箱</span></span><br><span class="line"><span class="comment">    反序列化	将字节流恢复为对象	拆箱取出书</span></span><br><span class="line"><span class="comment">    字节流	二进制数据序列	快递箱里的内容</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String idNumber;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-2-2-Controller层"><a href="#1-2-2-Controller层" class="headerlink" title="1.2.2 Controller层"></a>1.2.2 Controller层</h3><p>进入到sky-server模块中，在com.sky.controller.admin包下，在EmployeeController中创建新增员工方法，接收前端提交的参数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">@RequestBody 将请求体 JSON 绑定到 Java 对象</span></span><br><span class="line"><span class="comment">Result 返回值结果封装</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="meta">@ApiOperation(&quot;新增员工&quot;)</span><span class="comment">//Swagger 注解 在 API 文档中生成接口描述</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> EmployeeDTO employeeDTO)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;新增员工：&#123;&#125;&quot;</span>,employeeDTO);</span><br><span class="line">    employeeService.save(employeeDTO);<span class="comment">//该方法后续步骤会定 服务层调用</span></span><br><span class="line">    <span class="keyword">return</span> Result.success(); <span class="comment">//返回结果成功</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>**注：**Result类定义了后端统一返回结果格式。</p>
<p>进入sky-common模块，在com.sky.result包下定义了Result.java</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lisheng9009.github.io/2025/06/17/02%E5%91%98%E5%B7%A5%E7%AE%A1%E7%90%86/" data-id="cmc0j5imp0000t0nl8ji0951j" data-title="02员工管理" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NO-1%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" rel="tag">NO.1苍穹外卖</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Java十万个为什么，第一问" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/16/Java%E5%8D%81%E4%B8%87%E4%B8%AA%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%8C%E7%AC%AC%E4%B8%80%E9%97%AE/" class="article-date">
  <time class="dt-published" datetime="2025-06-16T13:07:25.000Z" itemprop="datePublished">2025-06-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/16/Java%E5%8D%81%E4%B8%87%E4%B8%AA%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%8C%E7%AC%AC%E4%B8%80%E9%97%AE/">Java十万个为什么，第一问</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h1><p>​	<em><strong>用现实生活举列，spring boot，spring mvc，AOP，mybatis，maven之间的联系和关系</strong></em></p>
<hr>
<p><strong>“开一家智能咖啡店”</strong> 来类比这些技术组件之间的关系，你会更直观地理解它们的协作方式：</p>
<ul>
<li><p><strong>目标</strong>：实现一个全自动咖啡订购系统</p>
</li>
<li><p><strong>核心组件</strong>：</p>
<table>
<thead>
<tr>
<th align="left">技术组件</th>
<th align="left">咖啡店角色</th>
<th align="left">功能说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Maven</strong></td>
<td align="left"><strong>供应链管理</strong></td>
<td align="left">统一采购原料和设备</td>
</tr>
<tr>
<td align="left"><strong>Spring Boot</strong></td>
<td align="left"><strong>咖啡店总控系统</strong></td>
<td align="left">整店自动化运营框架</td>
</tr>
<tr>
<td align="left"><strong>Spring MVC</strong></td>
<td align="left"><strong>前台服务员</strong></td>
<td align="left">接收&#x2F;处理顾客订单请求</td>
</tr>
<tr>
<td align="left"><strong>MyBatis</strong></td>
<td align="left"><strong>仓库管理系统</strong></td>
<td align="left">管理咖啡豆&#x2F;牛奶库存</td>
</tr>
<tr>
<td align="left"><strong>Spring AOP</strong></td>
<td align="left"><strong>监控摄像头+分析仪</strong></td>
<td align="left">记录运营数据，安全检查</td>
</tr>
</tbody></table>
</li>
</ul>
<h1 id="工作流程详解-从顾客下单到完成"><a href="#工作流程详解-从顾客下单到完成" class="headerlink" title="工作流程详解 (从顾客下单到完成)"></a>工作流程详解 (从顾客下单到完成)</h1><h2 id="1-Maven"><a href="#1-Maven" class="headerlink" title="1. Maven"></a>1. Maven</h2><p>原料设备供应链（基础支撑）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- pom.xml 如采购清单 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 采购咖啡机核心部件 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- 采购库存管理模块 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>作用</strong>：统一管理所有“设备&#x2F;原料”（JAR包依赖）</li>
<li><strong>类比</strong>：确保咖啡机、磨豆机、牛奶冷藏柜版本兼容，按时到货</li>
</ul>
<h2 id="2-Spring-Boot"><a href="#2-Spring-Boot" class="headerlink" title="2. Spring Boot"></a>2. Spring Boot</h2><p>咖啡店总控系统（启动核心）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span> <span class="comment">// 整店自动化开关</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CoffeeShopApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(CoffeeShopApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>作用</strong>：一键启动整个咖啡店系统（嵌入式Tomcat+自动配置）</li>
<li><strong>类比</strong>：按下总电源开关，咖啡机、收银台、监控系统同步激活</li>
</ul>
<h2 id="3-Spring-MVC"><a href="#3-Spring-MVC" class="headerlink" title="3. Spring MVC"></a>3. Spring MVC</h2><p>前台服务员（请求处理）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span> <span class="comment">// 智能点单台</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CoffeeService coffeeService; <span class="comment">// 连接后厨系统</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping(&quot;/order&quot;)</span> <span class="comment">// 接收顾客订单</span></span><br><span class="line">    <span class="keyword">public</span> OrderResult <span class="title function_">placeOrder</span><span class="params">(<span class="meta">@RequestBody</span> OrderRequest request)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> coffeeService.makeCoffee(request);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>关键动作</strong>：<ul>
<li><code>@PostMapping</code>：接收顾客APP&#x2F;扫码订单</li>
<li><code>@RequestBody</code>：解析顾客定制需求（如加糖&#x2F;去冰）</li>
</ul>
</li>
<li><strong>类比</strong>：服务员接收订单 → 翻译成标准指令 → 传递给后厨</li>
</ul>
<h2 id="4-MyBatis"><a href="#4-MyBatis" class="headerlink" title="4. MyBatis"></a>4. MyBatis</h2><p>仓库管理系统（数据操做）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span> <span class="comment">// 仓库智能管理终端</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">InventoryMapper</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Update(&quot;UPDATE stock SET quantity = quantity - #&#123;amount&#125; &quot; +</span></span><br><span class="line"><span class="meta">            &quot;WHERE item = #&#123;item&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">reduceStock</span><span class="params">(<span class="meta">@Param(&quot;item&quot;)</span> String item, </span></span><br><span class="line"><span class="params">                    <span class="meta">@Param(&quot;amount&quot;)</span> <span class="type">int</span> amount)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span> <span class="comment">// 后厨工作站</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CoffeeService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> InventoryMapper inventoryMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> OrderResult <span class="title function_">makeCoffee</span><span class="params">(OrderRequest order)</span> &#123;</span><br><span class="line">        <span class="comment">// 扣减库存</span></span><br><span class="line">        inventoryMapper.reduceStock(<span class="string">&quot;coffee_beans&quot;</span>, <span class="number">1</span>);</span><br><span class="line">        inventoryMapper.reduceStock(<span class="string">&quot;milk&quot;</span>, order.getMilkAmount());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 制作咖啡逻辑...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>作用</strong>：<ul>
<li>操作数据库（如扣减咖啡豆库存）</li>
<li>SQL与Java方法优雅映射（<code>@Update</code>注解）</li>
</ul>
</li>
<li><strong>类比</strong>：后厨根据订单自动扣除原料库存</li>
</ul>
<h2 id="5-Spring-AOP"><a href="#5-Spring-AOP" class="headerlink" title="5. Spring AOP"></a>5. Spring AOP</h2><p>安防监控系统（切面增强）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span> <span class="comment">// 全店监控探头</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityMonitor</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 监控所有制作咖啡的过程</span></span><br><span class="line">    <span class="meta">@Around(&quot;execution(* com.example.service.CoffeeService.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">checkSafety</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="comment">// 安全检查：设备温度是否正常？</span></span><br><span class="line">        <span class="keyword">if</span> (checkMachineTemperature()) &#123;</span><br><span class="line">            <span class="keyword">return</span> pjp.proceed(); <span class="comment">// 安全则继续制作</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SafetyException</span>(<span class="string">&quot;设备过热！停止操作&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 记录每笔订单耗时</span></span><br><span class="line">    <span class="meta">@AfterReturning(pointcut = &quot;@annotation(org.springframework.web.bind.annotation.PostMapping)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logOrderTime</span><span class="params">(JoinPoint jp)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;订单处理完成，耗时：&quot;</span> + (endTime - startTime));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>作用</strong>：<ul>
<li>权限控制：<code>@Before</code>检查员工操作权限</li>
<li>性能监控：<code>@Around</code>记录方法执行时间</li>
<li>异常管理：<code>@AfterThrowing</code>发送设备故障警报</li>
</ul>
</li>
<li><strong>类比</strong>：摄像头自动检测咖啡机温度 + 统计订单处理效率</li>
</ul>
<h3 id="💡-核心关系总结"><a href="#💡-核心关系总结" class="headerlink" title="💡 核心关系总结"></a>💡 核心关系总结</h3><ol>
<li><p><strong>Maven 是基础</strong><br>→ 像供应链经理，为项目提供标准化“物料”（依赖包）</p>
</li>
<li><p><strong>Spring Boot 是心脏</strong><br>→ 像总控系统，整合所有组件并一键启动<br>→ <strong>关键整合</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="comment">// 自动配置了MVC/MyBatis/AOP等</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Spring MVC 是门面</strong><br>→ 处理HTTP请求&#x2F;响应，连接用户与业务</p>
</li>
<li><p><strong>MyBatis 是数据管家</strong><br>→ 屏蔽SQL细节，让Java方法直接操作数据库</p>
</li>
<li><p><strong>Spring AOP 是监察官</strong><br>→ 无侵入式增强系统功能（安全&#x2F;日志&#x2F;事务）</p>
</li>
</ol>
<hr>
<h3 id="⚠️-常见问题解答"><a href="#⚠️-常见问题解答" class="headerlink" title="⚠️ 常见问题解答"></a>⚠️ 常见问题解答</h3><p><strong>Q1：为什么需要Spring Boot整合？</strong><br>A：没有Spring Boot时，相当于手动组装咖啡机——需要自己接水管（配置Tomcat）、调磨豆机（整合MyBatis）、装监控（配置AOP）。Spring Boot提供了<strong>预装好的智能咖啡站</strong>。</p>
<p><strong>Q2：AOP和MVC如何协作？</strong><br>A：当顾客下单时（MVC接收请求）：</p>
<ul>
<li>AOP在<code>@PostMapping</code>方法执行前后自动插入动作（如记录请求日志）</li>
<li>类似服务员接单前自动检测工牌权限（安全控制）</li>
</ul>
<p><strong>Q3：MyBatis可以不依赖Spring吗？</strong><br>A：可以，但就像仓库管理员需要手动打电话问后厨需求。通过<code>mybatis-spring-boot-starter</code>，仓库（MyBatis）与后厨（Service）建立了<strong>自动对讲系统</strong>（依赖注入）。</p>
<hr>
<h3 id="✅-真实开发场景对应"><a href="#✅-真实开发场景对应" class="headerlink" title="✅ 真实开发场景对应"></a>✅ 真实开发场景对应</h3><table>
<thead>
<tr>
<th align="left">咖啡店场景</th>
<th align="left">技术实现</th>
<th align="left">代码示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>VIP会员折扣</strong></td>
<td align="left">AOP实现权限检查+折扣计算</td>
<td align="left"><code>@Before(&quot;VIPCheck()&quot;)</code></td>
</tr>
<tr>
<td align="left"><strong>多仓库调货</strong></td>
<td align="left">MyBatis多数据源配置</td>
<td align="left"><code>@DataSource(&quot;slaveDB&quot;)</code></td>
</tr>
<tr>
<td align="left"><strong>订单状态推送</strong></td>
<td align="left">MVC返回SSE(Server-Sent Events)</td>
<td align="left"><code>SseEmitter</code></td>
</tr>
<tr>
<td align="left"><strong>突发火灾停机</strong></td>
<td align="left">AOP异常处理 + 服务降级</td>
<td align="left"><code>@AfterThrowing</code> + Hystrix</td>
</tr>
</tbody></table>
<blockquote>
<p>最终效果：顾客点一杯拿铁 → 系统自动扣库存 → AOP监控制作时长 → 推送“订单完成”通知 → 数据库记录销售数据。全程无需人工干预！</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lisheng9009.github.io/2025/06/16/Java%E5%8D%81%E4%B8%87%E4%B8%AA%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%8C%E7%AC%AC%E4%B8%80%E9%97%AE/" data-id="cmbz6ifak0000mwnlddc867kf" data-title="Java十万个为什么，第一问" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%97%AE/" rel="tag">每日一问</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-01项目开发框架" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/14/01%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" class="article-date">
  <time class="dt-published" datetime="2025-06-14T14:35:54.000Z" itemprop="datePublished">2025-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/14/01%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/">01项目开发框架</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-开发流程"><a href="#1-开发流程" class="headerlink" title="1. 开发流程"></a>1. 开发流程</h1><img src="./../images/%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B.png" alt="开发流程" style="zoom: 50%;" />

<h1 id="2-角色分工"><a href="#2-角色分工" class="headerlink" title="2. 角色分工"></a>2. 角色分工</h1><img src="./../images/%E8%A7%92%E8%89%B2%E5%88%86%E5%B7%A5.png" alt="角色分工" style="zoom: 50%;" />

<h1 id="3-苍穹外卖"><a href="#3-苍穹外卖" class="headerlink" title="3. 苍穹外卖"></a>3. 苍穹外卖</h1><h2 id="3-1-项目介绍"><a href="#3-1-项目介绍" class="headerlink" title="3.1 项目介绍"></a>3.1 项目介绍</h2><p>定位：专门为餐饮企业（餐厅、饭店）定制的一款软件产品</p>
<ul>
<li><p>管理端 - 外卖商家使用</p>
</li>
<li><p>用户端 - 点餐用户使用</p>
</li>
</ul>
<p>功能架构：体现项目中的业务功能模块</p>
<img src="./../images/%E5%8A%9F%E8%83%BD%E6%9E%B6%E6%9E%84.png" alt="功能架构" style="zoom: 50%;" />

<h2 id="3-2-产品原型"><a href="#3-2-产品原型" class="headerlink" title="3.2 产品原型"></a>3.2 产品原型</h2><p>产品原型：用于展示项目的业务功能，一般由产品经理进行设计</p>
<img src="./../images/%E4%BA%A7%E5%93%81%E5%8E%9F%E5%9E%8B.png" alt="产品原型" style="zoom: 50%;" />

<h2 id="3-3-技术选型"><a href="#3-3-技术选型" class="headerlink" title="3.3 技术选型"></a>3.3 技术选型</h2><p>技术选型：展示项目中使用到的技术框架和中间件等</p>
<img src="./../images/%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B.png" alt="技术选型" style="zoom:50%;" />

<h2 id="3-4-整体结构"><a href="#3-4-整体结构" class="headerlink" title="3.4 整体结构"></a>3.4 整体结构</h2><img src="./../images/%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84.png" alt="整体结构" style="zoom: 50%;" />

<h1 id="4-环境搭建"><a href="#4-环境搭建" class="headerlink" title="4. 环境搭建"></a>4. 环境搭建</h1><h2 id="4-1-前端环境搭建"><a href="#4-1-前端环境搭建" class="headerlink" title="4.1 前端环境搭建"></a>4.1 前端环境搭建</h2><p>从资料中找到前端运行环境的nginx，移动到<strong>非中文目录</strong>下。</p>
<img src="./../images/image-20221106202239828.png" alt="nginx环境1" style="zoom:50%;" />

<p><strong>sky</strong>目录中存放了管理端的前端资源，具体如下：</p>
<img src="./../images/image-20250615105928874.png" alt="nginx环境2" style="zoom:50%;" />

<p>**快速访问：**双击 nginx.exe 即可启动 nginx 服务，访问端口号为 80</p>
<p><a target="_blank" rel="noopener" href="http://localhost/">http://localhost:80</a></p>
<h2 id="4-2-后端环境搭建"><a href="#4-2-后端环境搭建" class="headerlink" title="4.2 后端环境搭建"></a>4.2 后端环境搭建</h2><h3 id="4-2-1-项目结构"><a href="#4-2-1-项目结构" class="headerlink" title="4.2.1 项目结构"></a>4.2.1 项目结构</h3><p>后端工程基于 maven 进行项目构建，并且进行分模块开发。</p>
<p><strong>1). 从当天资料中找到后端初始工程：</strong></p>
<img src="./../images/image-20221107092342140.png" alt="后端初始工程1" style="zoom:50%;" />

<p><strong>2). 用 IDEA 打开初始工程，了解项目的整体结构：</strong></p>
<img src="./../images/image-20221107092540194.png" alt="后端初始工程2" style="zoom:50%;" />

<p>对工程的每个模块作用说明：</p>
<table>
<thead>
<tr>
<th><strong>序号</strong></th>
<th><strong>名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>sky-take-out</td>
<td>maven父工程，统一管理依赖版本，聚合其他子模块</td>
</tr>
<tr>
<td>2</td>
<td>sky-common</td>
<td>子模块，存放公共类，例如：工具类、常量类、异常类等</td>
</tr>
<tr>
<td>3</td>
<td>sky-pojo</td>
<td>子模块，存放实体类、VO、DTO等</td>
</tr>
<tr>
<td>4</td>
<td>sky-server</td>
<td>子模块，后端服务，存放配置文件、Controller、Service、Mapper等</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>sky-common:</strong> 模块中存放的是一些公共类，可以供其他模块使用</p>
<img src="./../images/image-20221107093606590.png" alt="sky-common" style="zoom:50%;" />



<p>分析sky-common模块的每个包的作用：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>constant</td>
<td>存放相关常量类</td>
</tr>
<tr>
<td>context</td>
<td>存放上下文类</td>
</tr>
<tr>
<td>enumeration</td>
<td>项目的枚举类存储</td>
</tr>
<tr>
<td>exception</td>
<td>存放自定义异常类</td>
</tr>
<tr>
<td>json</td>
<td>处理json转换的类</td>
</tr>
<tr>
<td>properties</td>
<td>存放SpringBoot相关的配置属性类</td>
</tr>
<tr>
<td>result</td>
<td>返回结果类的封装</td>
</tr>
<tr>
<td>utils</td>
<td>常用工具类</td>
</tr>
</tbody></table>
</li>
<li><p><strong>sky-pojo:</strong> 模块中存放的是一些 entity、DTO、VO</p>
<img src="./../images/image-20221107094611987.png" alt="sky-pojo" style="zoom:50%;" />

<p>分析sky-pojo模块的每个包的作用：</p>
<table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Entity</td>
<td>实体，通常和数据库中的表对应</td>
</tr>
<tr>
<td>DTO</td>
<td>数据传输对象，通常用于程序中各层之间传递数据</td>
</tr>
<tr>
<td>VO</td>
<td>视图对象，为前端展示数据提供的对象</td>
</tr>
<tr>
<td>POJO</td>
<td>普通Java对象，只有属性和对应的getter和setter</td>
</tr>
</tbody></table>
</li>
<li><p><strong>sky-server:</strong> 模块中存放的是 配置文件、配置类、拦截器、controller、service、mapper、启动类等</p>
<img src="./../images/image-20221107094852361.png" alt="sky-server" style="zoom:50%;" />

<p>分析sky-server模块的每个包的作用：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>config</td>
<td>存放配置类</td>
</tr>
<tr>
<td>controller</td>
<td>存放controller类</td>
</tr>
<tr>
<td>interceptor</td>
<td>存放拦截器类</td>
</tr>
<tr>
<td>mapper</td>
<td>存放mapper接口</td>
</tr>
<tr>
<td>service</td>
<td>存放service类</td>
</tr>
<tr>
<td>SkyApplication</td>
<td>启动类</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="4-2-2-Git版本控制"><a href="#4-2-2-Git版本控制" class="headerlink" title="4.2.2 Git版本控制"></a>4.2.2 Git版本控制</h3><p><strong>1). 创建Git本地仓库</strong>（项目根目录下隐藏文件”.git”）</p>
<img src="./../images/image-20250615154728000.png" alt="Git本地仓库1" style="zoom: 50%;" />

<img src="./../images/image-20250615154845271.png" alt="Git本地仓库2" style="zoom:50%;" />

<p><strong>2). 创建Git远程仓库</strong></p>
<p>访问<a target="_blank" rel="noopener" href="https://gitee.com/%EF%BC%8C%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93">https://gitee.com/，新建仓库</a></p>
<img src="./../images/image-20250615155707627.png" alt="Git远程仓库1" style="zoom: 50%;" />

<img src="./../images/image-20250615155907991.png" alt="Git远程仓库2" style="zoom:50%;" />

<p><strong>3). 将本地文件推送到Git远程仓库</strong></p>
<ol>
<li><p><strong>提交文件至本地仓库</strong></p>
<p>忽略以下类型文件</p>
<img src="./../images/image-20250615160325337.png" alt="忽略文件类型" style="zoom:50%;" />

<p>开始提交</p>
<img src="./../images/image-20250615160756356.png" alt="选择文件提交" style="zoom:50%;" />
</li>
<li><p><strong>添加Git远程仓库地址</strong></p>
<p>复制远程地址：</p>
<p><img src="/./../images/image-20250615162354128.png" alt="远程仓库地址"></p>
<p>添加地址：</p>
<img src="./../images/image-20250615161508260.png" alt="添加仓库地址1" style="zoom:50%;" />

<img src="./../images/image-20250615162526275.png" alt="粘贴地址链接" style="zoom:50%;" />
</li>
<li><p><strong>推送</strong></p>
</li>
</ol>
<img src="./../images/image-20250615162647457.png" alt="推送本地到远程" style="zoom:50%;" />

<p>成功推送至远程仓库</p>
<img src="./../images/image-20250615163434030.png" alt="推送成功" style="zoom:50%;" />

<h3 id="4-2-3-数据库环境搭建"><a href="#4-2-3-数据库环境搭建" class="headerlink" title="4.2.3 数据库环境搭建"></a>4.2.3 数据库环境搭建</h3><ol>
<li><strong>从资料中找到sky.sql</strong></li>
</ol>
<img src="./../images/image-20221107101030138.png" alt="sky.sql" style="zoom:50%;" />

<p>直接打开sky.sql文件</p>
<p><img src="/./../images/image-20221107101238205.png" alt="image-20221107101238205"></p>
<p>通过该sql文件直接可创建数据库，所以不需要提前创建数据库，直接导入该文件执行即可。</p>
<ol start="2">
<li><p><strong>在SQLyog执行sky.sql文件</strong></p>
<img src="./../images/image-20250615164358786.png" alt="导入sql脚本" style="zoom:50%;" /></li>
</ol>
<p>执行完成后，共创建出11张表</p>
<img src="./../images/image-20221107105103816.png" alt="数据库表" style="zoom:50%;" />

<p>每张表的说明：</p>
<table>
<thead>
<tr>
<th><strong>序号</strong></th>
<th><strong>表名</strong></th>
<th><strong>中文名</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>employee</td>
<td>员工表</td>
</tr>
<tr>
<td>2</td>
<td>category</td>
<td>分类表</td>
</tr>
<tr>
<td>3</td>
<td>dish</td>
<td>菜品表</td>
</tr>
<tr>
<td>4</td>
<td>dish_flavor</td>
<td>菜品口味表</td>
</tr>
<tr>
<td>5</td>
<td>setmeal</td>
<td>套餐表</td>
</tr>
<tr>
<td>6</td>
<td>setmeal_dish</td>
<td>套餐菜品关系表</td>
</tr>
<tr>
<td>7</td>
<td>user</td>
<td>用户表</td>
</tr>
<tr>
<td>8</td>
<td>address_book</td>
<td>地址表</td>
</tr>
<tr>
<td>9</td>
<td>shopping_cart</td>
<td>购物车表</td>
</tr>
<tr>
<td>10</td>
<td>orders</td>
<td>订单表</td>
</tr>
<tr>
<td>11</td>
<td>order_detail</td>
<td>订单明细表</td>
</tr>
</tbody></table>
<h3 id="4-2-4-前后端互通"><a href="#4-2-4-前后端互通" class="headerlink" title="4.2.4 前后端互通"></a>4.2.4 前后端互通</h3><p>后端的初始工程中已经实现了<strong>登录</strong>功能，直接进行前后端联调测试即可</p>
<p>实现思路：</p>
<img src="./../images/image-20221107110539832-1749977302122-22.png" alt="互通流程" style="zoom:50%;" />

<p><strong>1. Controller层</strong></p>
<p>在sky-server模块中，com.sky.controller.admin.EmployeeController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 员工管理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span> <span class="comment">//组合注解，相当于 @Controller + @ResponseBody，表示这是一个 RESTful 控制器，所有方法的返回值都会自动序列化为 JSON</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/admin/employee&quot;)</span> <span class="comment">//定义基础路径，所有方法都会继承这个路径前缀</span></span><br><span class="line"><span class="meta">@Slf4j</span> <span class="comment">//Lombok 注解，自动生成日志记录器</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//依赖注入DI</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService; <span class="comment">//业务逻辑服务层接口</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JwtProperties jwtProperties;<span class="comment">//JWT 配置类（通常包含密钥和过期时间等配置）</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 登录</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employeeLoginDTO</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    @PostMapping(&quot;/login&quot;)：处理 POST 请求，完整路径为 /admin/employee/login</span></span><br><span class="line"><span class="comment">    @RequestBody：将请求体中的 JSON 自动绑定到 EmployeeLoginDTO 对象</span></span><br><span class="line"><span class="comment">    Result&lt;EmployeeLoginVO&gt;：通用返回结果封装，包含登录返回数据</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;EmployeeLoginVO&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> EmployeeLoginDTO employeeLoginDTO)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;员工登录：&#123;&#125;&quot;</span>, employeeLoginDTO);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用服务层验证登录 服务层负责验证用户名密码（通常会加密比对）</span></span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> employeeService.login(employeeLoginDTO);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        创建 JWT 声明(claims)，存储员工ID</span></span><br><span class="line"><span class="comment">        使用工具类生成令牌</span></span><br><span class="line"><span class="comment">        参数说明：</span></span><br><span class="line"><span class="comment">        adminSecretKey：JWT 加密密钥（从配置读取）</span></span><br><span class="line"><span class="comment">        adminTtl：令牌有效期（如 2 小时）</span></span><br><span class="line"><span class="comment">        claims：包含员工ID的自定义数据</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="comment">//登录成功后，生成jwt令牌</span></span><br><span class="line">        Map&lt;String, Object&gt; claims = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        claims.put(JwtClaimsConstant.EMP_ID, employee.getId());</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> JwtUtil.createJWT(</span><br><span class="line">                jwtProperties.getAdminSecretKey(),</span><br><span class="line">                jwtProperties.getAdminTtl(),</span><br><span class="line">                claims);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构建返回对象</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        使用建造者模式创建视图对象（VO）</span></span><br><span class="line"><span class="comment">        包含员工基本信息和生成的 token</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="type">EmployeeLoginVO</span> <span class="variable">employeeLoginVO</span> <span class="operator">=</span> EmployeeLoginVO.builder()</span><br><span class="line">                .id(employee.getId())</span><br><span class="line">                .userName(employee.getUsername())</span><br><span class="line">                .name(employee.getName())</span><br><span class="line">                .token(token)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(employeeLoginVO);<span class="comment">//返回成功响应</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 退出</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    简化实现：直接返回成功（实际项目中可能需要处理 token 失效逻辑）</span></span><br><span class="line"><span class="comment">    安全考虑：真正的退出应该在客户端删除 token，服务端无需处理状态（JWT 无状态特性）</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/logout&quot;)</span> <span class="comment">//退出接口</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">logout</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2. Service层</strong></p>
<p>在sky-server模块中，com.sky.service.impl.EmployeeServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span> <span class="comment">//Spring 注解，标记这是一个服务层组件，会被自动扫描并注册为 Bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">EmployeeService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//DI</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeMapper employeeMapper; <span class="comment">//实现了 EmployeeService 接口，遵循面向接口编程原则</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 员工登录</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employeeLoginDTO</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//登录方法实现</span></span><br><span class="line">    <span class="keyword">public</span> Employee <span class="title function_">login</span><span class="params">(EmployeeLoginDTO employeeLoginDTO)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> employeeLoginDTO.getUsername();</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> employeeLoginDTO.getPassword();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1、根据用户名查询数据库中的数据</span></span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> employeeMapper.getByUsername(username);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、处理各种异常情况（用户名不存在、密码不对、账号被锁定）</span></span><br><span class="line">        <span class="keyword">if</span> (employee == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//账号不存在</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AccountNotFoundException</span>(MessageConstant.ACCOUNT_NOT_FOUND);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//密码比对</span></span><br><span class="line">        <span class="comment">// TODO 后期需要进行md5加密，然后再进行比对</span></span><br><span class="line">        <span class="keyword">if</span> (!password.equals(employee.getPassword())) &#123;</span><br><span class="line">            <span class="comment">//密码错误</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">PasswordErrorException</span>(MessageConstant.PASSWORD_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (employee.getStatus() == StatusConstant.DISABLE) &#123;</span><br><span class="line">            <span class="comment">//账号被锁定</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AccountLockedException</span>(MessageConstant.ACCOUNT_LOCKED);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、返回实体对象</span></span><br><span class="line">        <span class="keyword">return</span> employee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3. Mapper层</strong></p>
<p>在sky-server模块中，com.sky.mapper.EmployeeMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmployeeMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据用户名查询员工</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> username</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from employee where username = #&#123;username&#125;&quot;)</span></span><br><span class="line">    Employee <span class="title function_">getByUsername</span><span class="params">(String username)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以demo测试，注意数据库配置文件中的更改数据库用户名和密码</p>
<h3 id="4-2-5-nginx反向代理和负载均衡"><a href="#4-2-5-nginx反向代理和负载均衡" class="headerlink" title="4.2.5 nginx反向代理和负载均衡"></a>4.2.5 nginx反向代理和负载均衡</h3><p>下来，我们思考一个问题：<strong>前端发送的请求，是如何请求到后端服务的？</strong></p>
<p>前端请求地址：<a target="_blank" rel="noopener" href="http://localhost/api/employee/login">http://localhost/api/employee/login</a></p>
<p>后端接口地址：<a target="_blank" rel="noopener" href="http://localhost:8080/admin/employee/login">http://localhost:8080/admin/employee/login</a></p>
<p><strong>1). nginx反向代理</strong></p>
<p><strong>nginx 反向代理</strong>，就是将前端发送的动态请求由 nginx 转发到后端服务器。</p>
<img src="./../images/image-20221107152041371.png" alt="反向代理" style="zoom:50%;" />



<p><strong>nginx 反向代理的配置方式（nginx.config）：</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line">    </span><br><span class="line">    <span class="section">location</span> /api/&#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:8080/admin/; <span class="comment">#反向代理</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>**proxy_pass：**该指令是用来设置代理服务器的地址，可以是主机名称，IP地址加端口号等形式。</p>
<p>如上代码的含义是：监听80端口号， 然后当我们访问 <a target="_blank" rel="noopener" href="http://localhost/..%E8%BF%99%E6%A0%B7%E7%9A%84%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%AE%83%E4%BC%9A%E9%80%9A%E8%BF%87">http://localhost:80/api/../..这样的接口的时候，它会通过</a> location &#x2F;api&#x2F; {} 这样的反向代理到 <a target="_blank" rel="noopener" href="http://localhost:8080/admin/%E4%B8%8A%E6%9D%A5%E3%80%82">http://localhost:8080/admin/上来。</a></p>
<p><strong>nginx 负载均衡的配置方式：</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> webservers&#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.128:8080</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.129:8080</span>;</span><br><span class="line">&#125;</span><br><span class="line">server&#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line">    </span><br><span class="line">    <span class="section">location</span> /api/&#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://webservers/admin;<span class="comment">#负载均衡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>**upstream：**如果代理服务器是一组服务器的话，我们可以使用upstream指令配置后端服务器组。</p>
<p>如上代码的含义是：监听80端口号， 然后当我们访问 <a target="_blank" rel="noopener" href="http://localhost/..%E8%BF%99%E6%A0%B7%E7%9A%84%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%AE%83%E4%BC%9A%E9%80%9A%E8%BF%87">http://localhost:80/api/../..这样的接口的时候，它会通过</a> location &#x2F;api&#x2F; {} 这样的反向代理到 <a target="_blank" rel="noopener" href="http://webservers/admin%EF%BC%8C%E6%A0%B9%E6%8D%AEwebservers%E5%90%8D%E7%A7%B0%E6%89%BE%E5%88%B0%E4%B8%80%E7%BB%84%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E6%A0%B9%E6%8D%AE%E8%AE%BE%E7%BD%AE%E7%9A%84%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AD%96%E7%95%A5(%E9%BB%98%E8%AE%A4%E6%98%AF%E8%BD%AE%E8%AF%A2)%E8%BD%AC%E5%8F%91%E5%88%B0%E5%85%B7%E4%BD%93%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%82">http://webservers/admin，根据webservers名称找到一组服务器，根据设置的负载均衡策略(默认是轮询)转发到具体的服务器。</a></p>
<p>**注：**upstream后面的名称可自定义，但要上下保持一致。</p>
<p><strong>nginx 负载均衡策略：</strong></p>
<table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>轮询</td>
<td>默认方式</td>
</tr>
<tr>
<td>weight</td>
<td>权重方式，默认为1，权重越高，被分配的客户端请求就越多</td>
</tr>
<tr>
<td>ip_hash</td>
<td>依据ip分配方式，这样每个访客可以固定访问一个后端服务</td>
</tr>
<tr>
<td>least_conn</td>
<td>依据最少连接方式，把请求优先分配给连接数少的后端服务</td>
</tr>
<tr>
<td>url_hash</td>
<td>依据url分配方式，这样相同的url会被分配到同一个后端服务</td>
</tr>
<tr>
<td>fair</td>
<td>依据响应时间方式，响应时间短的服务将会被优先分配</td>
</tr>
</tbody></table>
<p>具体配置方式：</p>
<p><strong>轮询：</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> webservers&#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.128:8080</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.129:8080</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>weight:</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> webservers&#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.128:8080</span> weight=<span class="number">90</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.129:8080</span> weight=<span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ip_hash:</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> webservers&#123;</span><br><span class="line">    ip_hash;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.128:8080</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.129:8080</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>least_conn:</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> webservers&#123;</span><br><span class="line">    least_conn;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.128:8080</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.129:8080</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>url_hash:</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> webservers&#123;</span><br><span class="line">    <span class="attribute">hash</span> &amp;request_uri;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.128:8080</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.129:8080</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>fair:</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">upstream</span> webservers&#123;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.128:8080</span>;</span><br><span class="line">    <span class="attribute">server</span> <span class="number">192.168.100.129:8080</span>;</span><br><span class="line">    fair;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-3-优化登录功能"><a href="#4-3-优化登录功能" class="headerlink" title="4.3 优化登录功能"></a>4.3 优化登录功能</h2><p>初始代码，员工表中密码明文存储，安全性低</p>
<p><strong>解决思路：</strong></p>
<ol>
<li>密码加密存储，提高安全性</li>
<li>使用MD5加密方式，对明文密码加密</li>
</ol>
<p><strong>实现步骤：</strong></p>
<ol>
<li><p>将数据库明文密码，改为MD5加密后密文</p>
<p>employee表，修改密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- 更新现有密码为MD5加密值</span><br><span class="line">UPDATE employee </span><br><span class="line">SET PASSWORD = MD5(PASSWORD);</span><br></pre></td></tr></table></figure>


</li>
<li><p>修改java代码，前端提供密码进行MD5加密后再和数据库密码对比</p>
<p>EmployeeServiceImpl.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">password = DigestUtils.md5DigestAsHex(password.getBytes());</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="5-导入接口文档"><a href="#5-导入接口文档" class="headerlink" title="5. 导入接口文档"></a>5. 导入接口文档</h1><p>项目开发方式就是基本当前企业主流的前后端分离开发方式，那么这种方式就要求我们之前需要先将接口定义好，这样前后端人员才能并行开发。</p>
<p>其实，在真实的企业开发中，接口设计过程其实是一个非常漫长的过程，可能需要多次开会讨论调整，甚至在开发的过程中才会发现某些接口定义还需要再调整，这种情况其实是非常常见的。</p>
<h2 id="5-1-前后端分离开发流程"><a href="#5-1-前后端分离开发流程" class="headerlink" title="5.1 前后端分离开发流程"></a>5.1 前后端分离开发流程</h2><img src="./../images/image-20221107181446913.png" alt="前后端分离开发流程" style="zoom:50%;" />

<p>第一步：定义接口，确定接口的路径、请求方式、传入参数、返回参数。</p>
<p>第二步：前端开发人员和后端开发人员并行开发，同时，也可自测。</p>
<p>第三步：前后端人员进行连调测试。</p>
<p>第四步：提交给测试人员进行最终测试。</p>
<h2 id="5-2-操做步骤"><a href="#5-2-操做步骤" class="headerlink" title="5.2 操做步骤"></a>5.2 操做步骤</h2><p><strong>1) 将接口文档导入Yapi（接口管理平台）</strong></p>
<p><a target="_blank" rel="noopener" href="https://yapi.pro/">https://yapi.pro/</a>   <a target="_blank" rel="noopener" href="https://apifox.com/">https://apifox.com/</a></p>
<p><img src="/./../images/image-20250616171051402.png" alt="接口文档"></p>
<p><strong>将接口文档导入Yapi&#x2F;apifox（接口管理平台）</strong></p>
<img src="./../images/image-20250616174149486.png" alt="新建项目" style="zoom:67%;" />

<img src="./../images/image-20250616174229971.png" alt="手动导入" style="zoom:50%;" />

<h1 id="6-Swagger"><a href="#6-Swagger" class="headerlink" title="6. Swagger"></a>6. Swagger</h1><h2 id="5-1-介绍"><a href="#5-1-介绍" class="headerlink" title="5.1 介绍"></a>5.1 介绍</h2><p>Swagger 是一个规范和完整的框架，用于生成、描述、调用和可视化 RESTful 风格的 Web 服务(<a target="_blank" rel="noopener" href="https://swagger.io/">https://swagger.io/</a>)。 它的主要作用是：</p>
<ol>
<li><p>使得前后端分离开发更加方便，有利于团队协作</p>
</li>
<li><p>接口的文档在线自动生成，降低后端开发人员编写接口文档的负担</p>
</li>
<li><p>功能测试 </p>
<p>Spring已经将Swagger纳入自身的标准，建立了Spring-swagger项目，现在叫Springfox。通过在项目中引入Springfox ，即可非常简单快捷的使用Swagger。</p>
</li>
</ol>
<p>knife4j是为Java MVC框架集成Swagger生成Api文档的增强解决方案,前身是swagger-bootstrap-ui,取名kni4j是希望它能像一把匕首一样小巧,轻量,并且功能强悍!</p>
<p>目前，一般都使用knife4j框架。</p>
<h2 id="5-2-快速使用"><a href="#5-2-快速使用" class="headerlink" title="5.2 快速使用"></a>5.2 快速使用</h2><ol>
<li><p>导入 knife4j 的maven坐标</p>
<p>在pom.xml中添加依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">knife4j</span>&gt;</span>3.0.2<span class="tag">&lt;/<span class="name">knife4j</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;knife4j&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在配置类中加入 knife4j 相关配置</p>
<p>WebMvcConfiguration.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 通过knife4j生成接口文档</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment"> Docket 对象：Swagger 文档配置入口</span></span><br><span class="line"><span class="comment"> ApiInfo：文档元信息（标题、版本、描述）</span></span><br><span class="line"><span class="comment"> 选择器配置：</span></span><br><span class="line"><span class="comment"> basePackage(&quot;com.sky.controller&quot;)：只扫描指定包下的控制器</span></span><br><span class="line"><span class="comment"> PathSelectors.any()：包含所有路径</span></span><br><span class="line"><span class="comment"> 文档访问路径：</span></span><br><span class="line"><span class="comment"> Swagger JSON：http://localhost:端口/v2/api-docs</span></span><br><span class="line"><span class="comment"> Knife4j UI：http://localhost:端口/doc.html</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"> <span class="meta">@Bean</span></span><br><span class="line"> <span class="keyword">public</span> Docket <span class="title function_">docket</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="type">ApiInfo</span> <span class="variable">apiInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">             .title(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">             .version(<span class="string">&quot;2.0&quot;</span>)</span><br><span class="line">             .description(<span class="string">&quot;苍穹外卖项目接口文档&quot;</span>)</span><br><span class="line">             .build();</span><br><span class="line">     <span class="type">Docket</span> <span class="variable">docket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">             .apiInfo(apiInfo)</span><br><span class="line">             .select()</span><br><span class="line">             .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.sky.controller&quot;</span>))</span><br><span class="line">             .paths(PathSelectors.any())</span><br><span class="line">             .build();</span><br><span class="line">     <span class="keyword">return</span> docket;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>设置静态资源映射，否则接口文档页面无法访问</p>
<p>WebMvcConfiguration.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置静态资源映射</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> registry</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">    <span class="comment">// 当顾客要买&quot;doc.html&quot;商品时</span></span><br><span class="line">    registry.addResourceHandler(<span class="string">&quot;/doc.html&quot;</span>)</span><br><span class="line">            <span class="comment">// 去仓库的&quot;META-INF/resources&quot;货架找</span></span><br><span class="line">            .addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">    <span class="comment">// 当顾客要买&quot;webjars&quot;品牌的任何商品</span></span><br><span class="line">    registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>)</span><br><span class="line">            <span class="comment">// 去仓库的&quot;META-INF/resources/webjars&quot;货架区找</span></span><br><span class="line">            .addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>访问测试</p>
<p>接口文档访问路径为 <a href="http://ip:port/doc.html">http://ip:port/doc.html</a> —&gt; <a target="_blank" rel="noopener" href="http://localhost:8080/doc.html">http://localhost:8080/doc.html</a></p>
<img src="./../images/image-20250616221114638.png" alt="接口文档" style="zoom:50%;" /></li>
</ol>
<p>接口测试:测试登录功能</p>
<img src="./../images/image-20250616221234250.png" alt="登录测试" style="zoom:50%;" />

<p>**思考：**通过 Swagger 就可以生成接口文档，那么我们就不需要 Yapi 了？</p>
<p>1、Yapi 是设计阶段使用的工具，管理和维护接口</p>
<p>2、Swagger 在开发阶段使用的框架，帮助后端开发人员做后端的接口测试</p>
<h3 id="5-3-常用注解"><a href="#5-3-常用注解" class="headerlink" title="5.3 常用注解"></a>5.3 常用注解</h3><p>通过注解可以控制生成的接口文档，使接口文档拥有更好的可读性，常用注解如下：</p>
<table>
<thead>
<tr>
<th><strong>注解</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>@Api</td>
<td>用在类上，例如Controller，表示对类的说明</td>
</tr>
<tr>
<td>@ApiModel</td>
<td>用在类上，例如entity、DTO、VO</td>
</tr>
<tr>
<td>@ApiModelProperty</td>
<td>用在属性上，描述属性信息</td>
</tr>
<tr>
<td>@ApiOperation</td>
<td>用在方法上，例如Controller的方法，说明方法的用途、作用</td>
</tr>
</tbody></table>
<p>接下来，使用上述注解，生成可读性更好的接口文档</p>
<p>在sky-pojo模块中</p>
<p>EmployeeLoginDTO.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.dto;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModel;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModelProperty;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ApiModel(description = &quot;员工登录时传递的数据模型&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeLoginDTO</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;用户名&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;密码&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>EmployeeLoginVo.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.vo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModel;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModelProperty;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@ApiModel(description = &quot;员工登录返回的数据格式&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeLoginVO</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;主键值&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;用户名&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;姓名&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;jwt令牌&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String token;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在sky-server模块中</p>
<p>EmployeeController.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.controller.admin;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sky.constant.JwtClaimsConstant;</span><br><span class="line"><span class="keyword">import</span> com.sky.dto.EmployeeLoginDTO;</span><br><span class="line"><span class="keyword">import</span> com.sky.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> com.sky.properties.JwtProperties;</span><br><span class="line"><span class="keyword">import</span> com.sky.result.Result;</span><br><span class="line"><span class="keyword">import</span> com.sky.service.EmployeeService;</span><br><span class="line"><span class="keyword">import</span> com.sky.utils.JwtUtil;</span><br><span class="line"><span class="keyword">import</span> com.sky.vo.EmployeeLoginVO;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 员工管理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/admin/employee&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;员工相关接口&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JwtProperties jwtProperties;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 登录</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employeeLoginDTO</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;员工登录&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;EmployeeLoginVO&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> EmployeeLoginDTO employeeLoginDTO)</span> 	&#123;</span><br><span class="line">        <span class="comment">//..............</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 退出</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/logout&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;员工退出&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">logout</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>启动服务：访问<a target="_blank" rel="noopener" href="http://localhost:8080/doc.html">http://localhost:8080/doc.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lisheng9009.github.io/2025/06/14/01%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" data-id="cmbwcbn810000s4nlhwc750kd" data-title="01项目开发框架" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NO-1%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" rel="tag">NO.1苍穹外卖</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NO-1%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" rel="tag">NO.1苍穹外卖</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%97%AE/" rel="tag">每日一问</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/NO-1%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" style="font-size: 20px;">NO.1苍穹外卖</a> <a href="/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%97%AE/" style="font-size: 10px;">每日一问</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/06/17/02%E5%91%98%E5%B7%A5%E7%AE%A1%E7%90%86/">02员工管理</a>
          </li>
        
          <li>
            <a href="/2025/06/16/Java%E5%8D%81%E4%B8%87%E4%B8%AA%E4%B8%BA%E4%BB%80%E4%B9%88%EF%BC%8C%E7%AC%AC%E4%B8%80%E9%97%AE/">Java十万个为什么，第一问</a>
          </li>
        
          <li>
            <a href="/2025/06/14/01%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/">01项目开发框架</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Amos Li<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>